–∫–æ–¥


import psycopg2
from dotenv import load_dotenv
import os

# Load environment variables
load_dotenv()

DB_HOST = os.getenv("DB_HOST")
DB_PORT = os.getenv("DB_PORT")
DB_NAME = os.getenv("DB_NAME")
DB_USER = os.getenv("DB_USER")
DB_PASSWORD = os.getenv("DB_PASSWORD")

try:
    conn = psycopg2.connect(
        host=DB_HOST,
        port=DB_PORT,
        dbname=DB_NAME,
        user=DB_USER,
        password=DB_PASSWORD,
        sslmode="require"
    )

    print("‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–µ")

    cur = conn.cursor()

    while True:
        print("\nüìö –ë–Ü–ë–õ–Ü–û–¢–ï–ö–ê")
        print("1 ‚Äì –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –∫–Ω–∏–≥–∏")
        print("2 ‚Äì –î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É")
        print("3 ‚Äì –û–Ω–æ–≤–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∏–º—ñ—Ä–Ω–∏–∫—ñ–≤")
        print("4 ‚Äì –í–∏–¥–∞–ª–∏—Ç–∏ –∫–Ω–∏–≥—É")
        print("0 ‚Äì –í–∏–π—Ç–∏")

        choice = input("‚û° –í–∏–±—ñ—Ä: ")

        if choice == "1":
            cur.execute("""
                SELECT b.book_id, b.title, a.full_name, b.copies
                FROM books b
                JOIN authors a ON b.author_id = a.author_id
                ORDER BY b.book_id
            """)
            for row in cur.fetchall():
                print(row)

        elif choice == "2":
            title = input("–ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏: ")
            author_id = input("ID –∞–≤—Ç–æ—Ä–∞: ")
            category_id = input("ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó: ")
            year = input("–†—ñ–∫: ")
            copies = input("–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∏–º—ñ—Ä–Ω–∏–∫—ñ–≤: ")

            cur.execute("""
                INSERT INTO books (title, author_id, category_id, year, copies)
                VALUES (%s, %s, %s, %s, %s)
            """, (title, author_id, category_id, year, copies))
            conn.commit()
            print("‚úÖ –ö–Ω–∏–≥—É –¥–æ–¥–∞–Ω–æ")

        elif choice == "3":
            book_id = input("ID –∫–Ω–∏–≥–∏: ")
            copies = input("–ù–æ–≤–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∏–º—ñ—Ä–Ω–∏–∫—ñ–≤: ")

            cur.execute("""
                UPDATE books
                SET copies = %s
                WHERE book_id = %s
            """, (copies, book_id))
            conn.commit()
            print(" –î–∞–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–æ")

        elif choice == "4":
            book_id = input("ID –∫–Ω–∏–≥–∏: ")

            cur.execute("DELETE FROM books WHERE book_id = %s", (book_id,))
            conn.commit()
            print("üóëÔ∏è –ö–Ω–∏–≥—É –≤–∏–¥–∞–ª–µ–Ω–æ")

        elif choice == "0":
            break

        else:
            print("‚ùå –ù–µ–≤—ñ—Ä–Ω–∏–π –≤–∏–±—ñ—Ä")

    cur.close()
    conn.close()
    print("üîí –ó'—î–¥–Ω–∞–Ω–Ω—è –∑–∞–∫—Ä–∏—Ç–æ")

except Exception as e:
    print("‚ùå –ü–æ–º–∏–ª–∫–∞:", e)
1


–ø–∏—Ç–∞–Ω–Ω—è


1. –ï—Ç–∞–ø–∏ —Ä–æ–∑—Ä–æ–±–∫–∏ –ë–î: –∞–Ω–∞–ª—ñ–∑ –≤–∏–º–æ–≥ –≤–∏–∑–Ω–∞—á–∞—î, —è–∫—ñ –¥–∞–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω—ñ, –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –æ–ø–∏—Å—É—î —Å—É—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–≤‚Äô—è–∑–∫–∏, –ª–æ–≥—ñ—á–Ω–µ ‚Äì —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ –∫–ª—é—á—ñ, —Ñ—ñ–∑–∏—á–Ω–µ ‚Äì —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω–¥–µ–∫—Å–∏, —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è ‚Äì —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ë–î.

2. –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö: –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞ –ø–æ–∫–∞–∑—É—î —Å—É—Ç–Ω–æ—Å—Ç—ñ —ñ –∑–≤‚Äô—è–∑–∫–∏, –ª–æ–≥—ñ—á–Ω–∞ ‚Äì —Ç–∞–±–ª–∏—Ü—ñ —ñ –∫–ª—é—á—ñ –±–µ–∑ –ø—Ä–∏–≤‚Äô—è–∑–∫–∏ –¥–æ –°–£–ë–î, —Ñ—ñ–∑–∏—á–Ω–∞ ‚Äì –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, —ñ–Ω–¥–µ–∫—Å–∏, —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö.

3. –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è ‚Äì —É—Å—É–≤–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è —ñ –∞–Ω–æ–º–∞–ª—ñ—ó. 3–ù–§: —Ç–∞–±–ª–∏—Ü—è –≤ 2–ù–§ —ñ –∂–æ–¥–µ–Ω –Ω–µ–∫–ª—é—á–æ–≤–∏–π –∞—Ç—Ä–∏–±—É—Ç –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ –≤—ñ–¥ –∫–ª—é—á–∞.

4. –û–±–º–µ–∂–µ–Ω–Ω—è —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ ‚Äì –ø–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á, –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –∫–ª—é—á, —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (CHECK), NOT NULL; –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö.

5. –ü–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á —É–Ω—ñ–∫–∞–ª—å–Ω–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î –∑–∞–ø–∏—Å, –∑–æ–≤–Ω—ñ—à–Ω—ñ–π ‚Äì –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–ª—é—á —ñ–Ω—à–æ—ó —Ç–∞–±–ª–∏—Ü—ñ.

6. **–¢–∏–ø–∏ –∑–≤‚Äô—è–∑–∫—ñ–≤** ‚Äì –æ–¥–∏–Ω-–¥–æ-–æ–¥–Ω–æ–≥–æ, –æ–¥–∏–Ω-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö, –±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö, —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –∫–ª—é—á–∞–º–∏ —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ —Ç–∞–±–ª–∏—Ü—è–º–∏.

7. **–ó–±–µ—Ä–µ–∂–µ–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞** ‚Äì –Ω–∞–±—ñ—Ä SQL –∫–æ–º–∞–Ω–¥, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ; –ø–µ—Ä–µ–≤–∞–≥–∏: –ø–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, –±–µ–∑–ø–µ–∫–∞, —à–≤–∏–¥–∫—ñ—Å—Ç—å.

8. –¢—Ä–∏–≥–µ—Ä–∏ ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –¥—ñ—ó –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–∞–Ω–∏—Ö, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∞–±–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—É–º.

9. JOIN —É SQL ‚Äì INNER –ø–æ–≤–µ—Ä—Ç–∞—î —Å–ø—ñ–ª—å–Ω—ñ —Ä—è–¥–∫–∏, LEFT/RIGHT –¥–æ–¥–∞—é—Ç—å –≤—Å—ñ –∑ –æ–¥–Ω—ñ—î—ó —Ç–∞–±–ª–∏—Ü—ñ, FULL ‚Äì –≤—Å—ñ –∑ –æ–±–æ—Ö —Ç–∞–±–ª–∏—Ü—å.

10. VIEW ‚Äì –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –∞–±–æ –∑–∞—Ö–∏—Å—Ç—É –¥–∞–Ω–∏—Ö.

11. –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ SQL-—ñ–Ω‚Äô—î–∫—Ü—ñ–π ‚Äì –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ –∑–∞–ø–∏—Ç–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏, ORM.

12. ORM ‚Äì –∑—Ä—É—á–Ω—ñ—Å—Ç—å —ñ –±–µ–∑–ø–µ–∫–∞, –∞–ª–µ –º–æ–∂–µ –≥—ñ—Ä—à–µ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ SQL.

13. –Ü–Ω–¥–µ–∫—Å–∏ ‚Äì –ø—Ä–∏—à–≤–∏–¥—à—É—é—Ç—å –ø–æ—à—É–∫ —ñ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –∞–ª–µ —É–ø–æ–≤—ñ–ª—å–Ω—é—é—Ç—å –≤—Å—Ç–∞–≤–∫—É/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

14. –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è —Ç–∞ ACID ‚Äì –∞—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å, —ñ–∑–æ–ª—è—Ü—ñ—è, –¥–æ–≤–≥–æ–≤—ñ—á–Ω—ñ—Å—Ç—å.

15. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ ‚Äì —ñ–Ω–¥–µ–∫—Å–∏, –ø—Ä–∞–≤–∏–ª—å–Ω—ñ JOIN, –æ–±–º–µ–∂–µ–Ω–Ω—è SELECT, –∞–Ω–∞–ª—ñ–∑ EXPLAIN.

16. Docker –¥–ª—è –ë–î ‚Äì —à–≤–∏–¥–∫–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, —ñ–∑–æ–ª—è—Ü—ñ—è, –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å.

17. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL —É Docker** ‚Äì –≤–∫–∞–∑–∞—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–æ—Ä—Ç, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –ø–∞—Ä–æ–ª—å —ñ –±–∞–∑—É –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∞–±–æ psql.

